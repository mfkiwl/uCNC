##################
# ESP8266 Boards #
##################

[env:d1]
platform = espressif8266
platform_packages = toolchain-xtensa
framework = arduino
board = d1
build_src_filter = 
	+<*>
	-<src/tinyusb>
	+<../webui/esp3d>
lib_deps = 
    https://github.com/tzapu/WiFiManager/archive/refs/heads/master.zip
	links2004/WebSockets
monitor_speed = 115200
monitor_filters = colorize
; set frequency to 160MHz
board_build.f_cpu = 160000000L
; set frequency to 40MHz
board_build.f_flash = 40000000L
board_build.flash_mode = dout
upload_resetmethod = nodemcu
upload_speed = 256000
build_flags = 
	-Wl,-Teagle.flash.4m2m.ld
    -D PIO_FRAMEWORK_ARDUINO_LWIP2_LOW_MEMORY
    -DNONOSDK221=1
    -DNDEBUG
    -DVTABLES_IN_FLASH
	-I include -D BOARD=BOARD_WEMOS_D1 -D ENABLE_WIFI -D INTERFACE=0
